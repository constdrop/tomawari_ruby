# 2. 条件文

条件文は、条件に応じて処理を分岐するための文で、条件分岐構文と言います。代表的な条件分岐構文としては、 `if` 文と `case` 文(TypeScript では `switch` 文)があります。

## if文

`if` 文は条件を満たした場合に処理を行い、条件を満たさなかった場合は処理を行わないか、別の処理を行います。

### 条件を満たした場合だけ処理する

通学の距離が 3000m 以上ならばバスで通学する場合、それを表示するプログラムは以下のようになります。

```ruby
distance = 3500

if distance >= 3000
  puts "バス通学です"
end
# => バス通学です
```

### 条件を満たさない場合も処理する

条件を満たさない場合、ここでは 3000m よりも近い場合にも通学方法を表示する場合、以下のようになります。

```ruby
distance = 1000

if distance >= 3000
  puts "バス通学です"
else
  puts "徒歩通学です"
end
# => 徒歩通学です
```

### 条件を満たさないが別の条件を満たした場合の処理

2000m 以上の場合に自転車通学を加えることにします。その場合は以下のようになります。

```ruby
distance = 2500

if distance >= 3000
  puts "バス通学です"
elsif distance >= 2000
  puts "自転車通学です"
else
  puts "徒歩通学です"
end
# => 自転車通学です
```

### 複数の条件の組合せ

さらに、雨の日は 2000m 以上でもバス通学することにした場合、論理式を使って以下のようになります。

```ruby
distance = 2500
weather = "rain"

if distance >= 3000 || (distance >= 2000 && weather == "rain")
  puts "バス通学です"
elsif distance >= 2000
  puts "自転車通学です"
else
  puts "徒歩通学です"
end
# => バス通学です
```

### unless

Ruby には `if` の逆論理を表す `unless` もあります(TypeScript にはありません)。一般的に `unless` では `else` などを使いません。

```ruby
registered = false

unless registered
  puts "登録されていません"
end
# >= 登録されていません
```

### 三項演算子

条件に応じて値を代入する場合は、三項演算子を使うことができます。

```ruby
result = age >= 20 ? "成人" : "未成年"
puts result  # => "成人"
```

## case文

```ruby
case 変数
  when 値1
    処理
  when 値2
    処理
  else #どの値にも一致しなかった場合
    処理
end
```

`case` 文は、変数の値に応じて処理を分岐します。それぞれの `when` 節には、変数がそれぞれの値に一致した場合に実行する処理を書きます。 `else` 節にはどの値にも一致しなかった場合の処理を書きます。

具体的には、例えば横断歩道の信号の表示によってどうするかは、以下のようになります。

```ruby
signal = "赤"

case signal
  when "赤"
    puts "止まりましょう"
  when "青"
    puts "渡りましょう"
  when "青点滅"
    puts "急いで渡りましょう"
  else
    puts "故障していないか確認しましょう"
end
# => 止まりましょう
```

`case` 文には、値が一致した場合だけではなく、値の型が一致した場合など便利な使い方があるのですが、ここでは省略します。
